{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { createSelector } from \"reselect\";\nlet lastId = 0;\n/**\n * @description createSlice method replaces createAction & createReducer methods\n * Note that the name of reducers' properties can now be set to anything we want and it will be the only\n * place to update the name if we want to change it later in time unlike when we use createAction & createReducer\n *\n */\n\nconst slice = createSlice({\n  name: \"bugs\",\n  initialState: {\n    list: [],\n    loading: false,\n    lastFetch: null\n  },\n  reducers: {\n    // name: bugs/bugAdded\n    bugAdded: (state, action) => {\n      state.list.push({\n        id: lastId++,\n        description: action.payload.description,\n        resolved: false\n      });\n    },\n    bugAssigned: (state, action) => {\n      const {\n        bugId,\n        userId\n      } = action.payload;\n      const index = state.list.findIndex(bug => bug.id === bugId); // set user id property in bugs array\n\n      state.list[index].userId = userId;\n    },\n    bugResolved: (state, action) => {\n      const index = state.list.findIndex(bug => bug.id === action.payload.id);\n      state.list[index].resolved = true;\n    }\n  }\n});\nexport const {\n  bugAdded,\n  bugResolved,\n  bugAssigned\n} = slice.actions;\nexport default slice.reducer; // SELECTORS\n// This method is a bit expensive to use in apps cause it takes almost 0.5 seconds to execute even when\n// the list of bugs has not chnaged.\n// therefore we use memoization method instead. For that install reselect pckg\n// export const getUnresolvedBugsOld = (state) =>\n// state.entities.bugs.filter((bug) => !bug.resolved);\n\nexport const getUnresolvedBugs = createSelector(state => state.entities.bugs, bugs => bugs.list.filter(bug => !bug.resolved));\nexport const getBugByUserId = userId => createSelector(state => state.entities.bugs, bugs => bugs.list.filter(bug => bug.userId == userId));","map":{"version":3,"sources":["/Users/menahaltanveer/Desktop/mern-training/redux-practice/src/store/bugs.js"],"names":["createSlice","createSelector","lastId","slice","name","initialState","list","loading","lastFetch","reducers","bugAdded","state","action","push","id","description","payload","resolved","bugAssigned","bugId","userId","index","findIndex","bug","bugResolved","actions","reducer","getUnresolvedBugs","entities","bugs","filter","getBugByUserId"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,IAAIC,MAAM,GAAG,CAAb;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,KAAK,GAAGH,WAAW,CAAC;AACxBI,EAAAA,IAAI,EAAE,MADkB;AAExBC,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAE,EADM;AAEZC,IAAAA,OAAO,EAAE,KAFG;AAGZC,IAAAA,SAAS,EAAE;AAHC,GAFU;AAOxBC,EAAAA,QAAQ,EAAE;AACR;AACAC,IAAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC3BD,MAAAA,KAAK,CAACL,IAAN,CAAWO,IAAX,CAAgB;AACdC,QAAAA,EAAE,EAAEZ,MAAM,EADI;AAEda,QAAAA,WAAW,EAAEH,MAAM,CAACI,OAAP,CAAeD,WAFd;AAGdE,QAAAA,QAAQ,EAAE;AAHI,OAAhB;AAKD,KARO;AASRC,IAAAA,WAAW,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;AAC9B,YAAM;AAAEO,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAoBR,MAAM,CAACI,OAAjC;AACA,YAAMK,KAAK,GAAGV,KAAK,CAACL,IAAN,CAAWgB,SAAX,CAAsBC,GAAD,IAASA,GAAG,CAACT,EAAJ,KAAWK,KAAzC,CAAd,CAF8B,CAG9B;;AACAR,MAAAA,KAAK,CAACL,IAAN,CAAWe,KAAX,EAAkBD,MAAlB,GAA2BA,MAA3B;AACD,KAdO;AAeRI,IAAAA,WAAW,EAAE,CAACb,KAAD,EAAQC,MAAR,KAAmB;AAC9B,YAAMS,KAAK,GAAGV,KAAK,CAACL,IAAN,CAAWgB,SAAX,CAAsBC,GAAD,IAASA,GAAG,CAACT,EAAJ,KAAWF,MAAM,CAACI,OAAP,CAAeF,EAAxD,CAAd;AACAH,MAAAA,KAAK,CAACL,IAAN,CAAWe,KAAX,EAAkBJ,QAAlB,GAA6B,IAA7B;AACD;AAlBO;AAPc,CAAD,CAAzB;AA4BA,OAAO,MAAM;AAAEP,EAAAA,QAAF;AAAYc,EAAAA,WAAZ;AAAyBN,EAAAA;AAAzB,IAAyCf,KAAK,CAACsB,OAArD;AACP,eAAetB,KAAK,CAACuB,OAArB,C,CAEA;AACA;AACA;AACA;AAEA;AACA;;AAEA,OAAO,MAAMC,iBAAiB,GAAG1B,cAAc,CAC5CU,KAAD,IAAWA,KAAK,CAACiB,QAAN,CAAeC,IADmB,EAE5CA,IAAD,IAAUA,IAAI,CAACvB,IAAL,CAAUwB,MAAV,CAAkBP,GAAD,IAAS,CAACA,GAAG,CAACN,QAA/B,CAFmC,CAAxC;AAIP,OAAO,MAAMc,cAAc,GAAIX,MAAD,IAC5BnB,cAAc,CACXU,KAAD,IAAWA,KAAK,CAACiB,QAAN,CAAeC,IADd,EAEXA,IAAD,IAAUA,IAAI,CAACvB,IAAL,CAAUwB,MAAV,CAAkBP,GAAD,IAASA,GAAG,CAACH,MAAJ,IAAcA,MAAxC,CAFE,CADT","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { createSelector } from \"reselect\";\nlet lastId = 0;\n/**\n * @description createSlice method replaces createAction & createReducer methods\n * Note that the name of reducers' properties can now be set to anything we want and it will be the only\n * place to update the name if we want to change it later in time unlike when we use createAction & createReducer\n *\n */\nconst slice = createSlice({\n  name: \"bugs\",\n  initialState: {\n    list: [],\n    loading: false,\n    lastFetch: null,\n  },\n  reducers: {\n    // name: bugs/bugAdded\n    bugAdded: (state, action) => {\n      state.list.push({\n        id: lastId++,\n        description: action.payload.description,\n        resolved: false,\n      });\n    },\n    bugAssigned: (state, action) => {\n      const { bugId, userId } = action.payload;\n      const index = state.list.findIndex((bug) => bug.id === bugId);\n      // set user id property in bugs array\n      state.list[index].userId = userId;\n    },\n    bugResolved: (state, action) => {\n      const index = state.list.findIndex((bug) => bug.id === action.payload.id);\n      state.list[index].resolved = true;\n    },\n  },\n});\nexport const { bugAdded, bugResolved, bugAssigned } = slice.actions;\nexport default slice.reducer;\n\n// SELECTORS\n// This method is a bit expensive to use in apps cause it takes almost 0.5 seconds to execute even when\n// the list of bugs has not chnaged.\n// therefore we use memoization method instead. For that install reselect pckg\n\n// export const getUnresolvedBugsOld = (state) =>\n// state.entities.bugs.filter((bug) => !bug.resolved);\n\nexport const getUnresolvedBugs = createSelector(\n  (state) => state.entities.bugs,\n  (bugs) => bugs.list.filter((bug) => !bug.resolved)\n);\nexport const getBugByUserId = (userId) =>\n  createSelector(\n    (state) => state.entities.bugs,\n    (bugs) => bugs.list.filter((bug) => bug.userId == userId)\n  );\n"]},"metadata":{},"sourceType":"module"}