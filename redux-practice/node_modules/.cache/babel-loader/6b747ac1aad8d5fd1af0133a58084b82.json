{"ast":null,"code":"import { createAction, createReducer, ce } from \"@reduxjs/toolkit\"; // ACTION TYPES\n// const BUG_ADDED = \"bugAdded\";\n// const BUG_REMOVED = \"bugRemoved\";\n// const BUG_RESOLVED = \"bugResolved\";\n// ACTION CREATORS: manual approach\n// export const bugAdded = (description) => ({\n//   type: BUG_ADDED,\n//   payload: {\n//     description,\n//   },\n// });\n// ACTION CREATORS: concise approach using redux toolkit\n// createAction method creates an action creator\n// createAction has a type property that can be used to return action type (it can also be done using toString method)\n// Example:\n// const apiCallBegan = createAction(\"api/callBegan\");\n// console.log(apiCallBegan.type) || console.log(apiCallBegan.toString())\n// to define payload:\n// console.log(apiCallBegan({id:1})) this will add id as a property of payload obj\n\nexport const bugAdded = createAction(\"bugAdded\");\nexport const bugResolved = createAction(\"bugResolved\");\nexport const bugRemoved = createAction(\"bugRemoved\");\nexport const apiCallBegan = createAction(\"api/callBegan\");\nexport const apiCallSuccess = createAction(\"api/callSuccess\");\nexport const apiCallFailed = createAction(\"api/callFailed\"); // REDUCER\n// Note: reducer must always be a default export when following ducks pattern\n\nlet lastId = 0; // function reducer(state = [], action) {\n//   switch (action.type) {\n//     case bugAdded.type:\n//       return [\n//         ...state,\n//         {\n//           id: lastId++,\n//           description: action.payload.description,\n//           resolved: false,\n//         },\n//       ];\n//     case bugRemoved.type:\n//       return state.filter((bug) => bug.id !== action.payload.id);\n//     case bugResolved.type:\n//       return state.map((bug) =>\n//         bug.id !== action.payload.id ? bug : { ...bug, resolved: true }\n//       );\n//     default:\n//       return state;\n//   }\n// }\n// export default reducer;\n// CREATING REDUCER USING TOOLKIT\n// NOTE: The name of action creators and reducer properties should be the same\n// To make this less prone to error, we can name the reducer dynamically like below\n// the parameter state can also be assigned a custom name for readibility e.g. in this case it can be called\n// bugs\n\nexport default createReducer([], {\n  [bugAdded.type]: (state, action) => {\n    state.push({\n      id: lastId++,\n      description: action.payload.description,\n      resolved: false\n    });\n  },\n  bugResolved: (state, action) => {\n    const index = state.findIndex(bug => bug.id === action.payload.id);\n    state[index].resolved = true;\n  }\n}); // const slice = createSlice({\n//   name: \"bugs\",\n//   initialState: {\n//     list: [],\n//     loading: false,\n//     lastFetch: null,\n//   },\n//   // ---------------------------- REDUCERS--------------------------\n//   reducers: {\n//     bugsRequested: (bugs, action) => {\n//       bugs.loading = true;\n//     },\n//     bugsReceived: (bugs, action) => {\n//       bugs.list = action.payload;\n//       bugs.loading = false;\n//     },\n//   },\n// });\n// export const { bugsRequested, bugsReceived } = slice.actions;\n// export default slice.reducer;\n// const url = \"bugs/bugsRequested\";\n// export const loadBugs = () => {\n//   apiCallBegan({\n//     url,\n//     onStart: bugsRequested.type,\n//     onSuccess: bugsReceived.type,\n//   });\n// };","map":{"version":3,"sources":["/Users/menahaltanveer/Desktop/mern-training/redux-practice/src/store/bugs.js"],"names":["createAction","createReducer","ce","bugAdded","bugResolved","bugRemoved","apiCallBegan","apiCallSuccess","apiCallFailed","lastId","type","state","action","push","id","description","payload","resolved","index","findIndex","bug"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,EAAsCC,EAAtC,QAAgD,kBAAhD,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAGH,YAAY,CAAC,UAAD,CAA7B;AACP,OAAO,MAAMI,WAAW,GAAGJ,YAAY,CAAC,aAAD,CAAhC;AACP,OAAO,MAAMK,UAAU,GAAGL,YAAY,CAAC,YAAD,CAA/B;AAEP,OAAO,MAAMM,YAAY,GAAGN,YAAY,CAAC,eAAD,CAAjC;AACP,OAAO,MAAMO,cAAc,GAAGP,YAAY,CAAC,iBAAD,CAAnC;AACP,OAAO,MAAMQ,aAAa,GAAGR,YAAY,CAAC,gBAAD,CAAlC,C,CACP;AACA;;AACA,IAAIS,MAAM,GAAG,CAAb,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AACA,eAAeR,aAAa,CAAC,EAAD,EAAK;AAC/B,GAACE,QAAQ,CAACO,IAAV,GAAiB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClCD,IAAAA,KAAK,CAACE,IAAN,CAAW;AACTC,MAAAA,EAAE,EAAEL,MAAM,EADD;AAETM,MAAAA,WAAW,EAAEH,MAAM,CAACI,OAAP,CAAeD,WAFnB;AAGTE,MAAAA,QAAQ,EAAE;AAHD,KAAX;AAKD,GAP8B;AAQ/Bb,EAAAA,WAAW,EAAE,CAACO,KAAD,EAAQC,MAAR,KAAmB;AAC9B,UAAMM,KAAK,GAAGP,KAAK,CAACQ,SAAN,CAAiBC,GAAD,IAASA,GAAG,CAACN,EAAJ,KAAWF,MAAM,CAACI,OAAP,CAAeF,EAAnD,CAAd;AACAH,IAAAA,KAAK,CAACO,KAAD,CAAL,CAAaD,QAAb,GAAwB,IAAxB;AACD;AAX8B,CAAL,CAA5B,C,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { createAction, createReducer, ce } from \"@reduxjs/toolkit\";\n// ACTION TYPES\n// const BUG_ADDED = \"bugAdded\";\n// const BUG_REMOVED = \"bugRemoved\";\n// const BUG_RESOLVED = \"bugResolved\";\n// ACTION CREATORS: manual approach\n// export const bugAdded = (description) => ({\n//   type: BUG_ADDED,\n//   payload: {\n//     description,\n//   },\n// });\n// ACTION CREATORS: concise approach using redux toolkit\n// createAction method creates an action creator\n// createAction has a type property that can be used to return action type (it can also be done using toString method)\n// Example:\n// const apiCallBegan = createAction(\"api/callBegan\");\n// console.log(apiCallBegan.type) || console.log(apiCallBegan.toString())\n// to define payload:\n// console.log(apiCallBegan({id:1})) this will add id as a property of payload obj\nexport const bugAdded = createAction(\"bugAdded\");\nexport const bugResolved = createAction(\"bugResolved\");\nexport const bugRemoved = createAction(\"bugRemoved\");\n\nexport const apiCallBegan = createAction(\"api/callBegan\");\nexport const apiCallSuccess = createAction(\"api/callSuccess\");\nexport const apiCallFailed = createAction(\"api/callFailed\");\n// REDUCER\n// Note: reducer must always be a default export when following ducks pattern\nlet lastId = 0;\n// function reducer(state = [], action) {\n//   switch (action.type) {\n//     case bugAdded.type:\n//       return [\n//         ...state,\n//         {\n//           id: lastId++,\n//           description: action.payload.description,\n//           resolved: false,\n//         },\n//       ];\n//     case bugRemoved.type:\n//       return state.filter((bug) => bug.id !== action.payload.id);\n//     case bugResolved.type:\n//       return state.map((bug) =>\n//         bug.id !== action.payload.id ? bug : { ...bug, resolved: true }\n//       );\n//     default:\n//       return state;\n//   }\n// }\n// export default reducer;\n\n// CREATING REDUCER USING TOOLKIT\n// NOTE: The name of action creators and reducer properties should be the same\n// To make this less prone to error, we can name the reducer dynamically like below\n// the parameter state can also be assigned a custom name for readibility e.g. in this case it can be called\n// bugs\nexport default createReducer([], {\n  [bugAdded.type]: (state, action) => {\n    state.push({\n      id: lastId++,\n      description: action.payload.description,\n      resolved: false,\n    });\n  },\n  bugResolved: (state, action) => {\n    const index = state.findIndex((bug) => bug.id === action.payload.id);\n    state[index].resolved = true;\n  },\n});\n// const slice = createSlice({\n//   name: \"bugs\",\n//   initialState: {\n//     list: [],\n//     loading: false,\n//     lastFetch: null,\n//   },\n//   // ---------------------------- REDUCERS--------------------------\n//   reducers: {\n//     bugsRequested: (bugs, action) => {\n//       bugs.loading = true;\n//     },\n//     bugsReceived: (bugs, action) => {\n//       bugs.list = action.payload;\n//       bugs.loading = false;\n//     },\n//   },\n// });\n\n// export const { bugsRequested, bugsReceived } = slice.actions;\n// export default slice.reducer;\n\n// const url = \"bugs/bugsRequested\";\n// export const loadBugs = () => {\n//   apiCallBegan({\n//     url,\n//     onStart: bugsRequested.type,\n//     onSuccess: bugsReceived.type,\n//   });\n// };\n"]},"metadata":{},"sourceType":"module"}