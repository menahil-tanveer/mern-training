{"ast":null,"code":"import axios from \"axios\";\n\nconst api = _ref => {\n  let {\n    dispatch\n  } = _ref;\n  return next => async action => {\n    if (action.type !== \"apiCallBegan\") return next(action); // next(action); // if not placed here, this action will be swallowed and redux will move onto the actions defined below this\n\n    const {\n      url,\n      method,\n      data,\n      onStart,\n      onSuccess,\n      onError\n    } = action;\n    if (onStart) dispatch({\n      type: onStart\n    });\n    next(action);\n\n    try {\n      const response = await axios.request({\n        baseURL: \"https://jsonplaceholder.typicode.com\",\n        url,\n        method,\n        data\n      }); //general\n\n      dispatch(action.payload.apiCallSuccess(response.data)); // sepcific\n\n      if (onSuccess) dispatch({\n        type: onSuccess,\n        payload: response.data\n      });\n    } catch (error) {// general error message\n      //   dispatch(action.payload.apiCallFailed(error));\n      // specific error message\n      //   if (onError) dispatch({ type: onError, payload: error });\n    }\n  };\n};\n\nexport default api;","map":{"version":3,"sources":["/Users/menahaltanveer/Desktop/mern-training/redux-practice/src/store/middleware/api.js"],"names":["axios","api","dispatch","next","action","type","url","method","data","onStart","onSuccess","onError","response","request","baseURL","payload","apiCallSuccess","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,GAAG,GACP;AAAA,MAAC;AAAEC,IAAAA;AAAF,GAAD;AAAA,SACCC,IAAD,IACA,MAAOC,MAAP,IAAkB;AAChB,QAAIA,MAAM,CAACC,IAAP,KAAgB,cAApB,EAAoC,OAAOF,IAAI,CAACC,MAAD,CAAX,CADpB,CAEhB;;AACA,UAAM;AAAEE,MAAAA,GAAF;AAAOC,MAAAA,MAAP;AAAeC,MAAAA,IAAf;AAAqBC,MAAAA,OAArB;AAA8BC,MAAAA,SAA9B;AAAyCC,MAAAA;AAAzC,QAAqDP,MAA3D;AACA,QAAIK,OAAJ,EAAaP,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAEI;AAAR,KAAD,CAAR;AACbN,IAAAA,IAAI,CAACC,MAAD,CAAJ;;AACA,QAAI;AACF,YAAMQ,QAAQ,GAAG,MAAMZ,KAAK,CAACa,OAAN,CAAc;AACnCC,QAAAA,OAAO,EAAE,sCAD0B;AAEnCR,QAAAA,GAFmC;AAGnCC,QAAAA,MAHmC;AAInCC,QAAAA;AAJmC,OAAd,CAAvB,CADE,CAOF;;AACAN,MAAAA,QAAQ,CAACE,MAAM,CAACW,OAAP,CAAeC,cAAf,CAA8BJ,QAAQ,CAACJ,IAAvC,CAAD,CAAR,CARE,CASF;;AACA,UAAIE,SAAJ,EAAeR,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEK,SAAR;AAAmBK,QAAAA,OAAO,EAAEH,QAAQ,CAACJ;AAArC,OAAD,CAAR;AAChB,KAXD,CAWE,OAAOS,KAAP,EAAc,CACd;AACA;AACA;AACA;AACD;AACF,GAzBD;AAAA,CADF;;AA2BA,eAAehB,GAAf","sourcesContent":["import axios from \"axios\";\nconst api =\n  ({ dispatch }) =>\n  (next) =>\n  async (action) => {\n    if (action.type !== \"apiCallBegan\") return next(action);\n    // next(action); // if not placed here, this action will be swallowed and redux will move onto the actions defined below this\n    const { url, method, data, onStart, onSuccess, onError } = action;\n    if (onStart) dispatch({ type: onStart });\n    next(action);\n    try {\n      const response = await axios.request({\n        baseURL: \"https://jsonplaceholder.typicode.com\",\n        url,\n        method,\n        data,\n      });\n      //general\n      dispatch(action.payload.apiCallSuccess(response.data));\n      // sepcific\n      if (onSuccess) dispatch({ type: onSuccess, payload: response.data });\n    } catch (error) {\n      // general error message\n      //   dispatch(action.payload.apiCallFailed(error));\n      // specific error message\n      //   if (onError) dispatch({ type: onError, payload: error });\n    }\n  };\nexport default api;\n"]},"metadata":{},"sourceType":"module"}