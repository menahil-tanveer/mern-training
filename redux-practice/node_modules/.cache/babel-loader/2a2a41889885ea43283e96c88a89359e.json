{"ast":null,"code":"import axios from \"axios\";\nimport { usersAdded } from \"../users\";\n\nconst api = _ref => {\n  let {\n    dispatch,\n    getState\n  } = _ref;\n  return next => async action => {\n    if (action.type !== \"apiCallBegan\") return next(action);\n    next(action); // if not placed here, this action will be swallowed and redux will move onto the actions defined below this\n    // const { url, onSuccess, onError } = action;\n    // if (onStart) dispatch({ type: onStart });\n    // next(action);\n\n    try {\n      const response = await axios.request({\n        baseURL: \"https://jsonplaceholder.typicode.com/users\" // data, // optional\n\n      }); //general\n      // dispatch(action.payload.apiCallSuccess(response.data));\n      // sepcific\n\n      console.log(\"onSuccess\");\n      if (action.payload.onSuccess) //   dispatch({ type: action.payload.onSuccess, payload: response.data });\n        console.log(\"users\", response.data);\n      next(action);\n    } catch (error) {\n      // general error message\n      //   dispatch(action.payload.apiCallFailed(error));\n      // specific error message\n      if (action.payload.onError) dispatch({\n        type: action.payload.onError,\n        payload: error\n      });\n    }\n  };\n};\n\nexport default api;","map":{"version":3,"sources":["/Users/menahaltanveer/Desktop/mern-training/redux-practice/src/store/middleware/api.js"],"names":["axios","usersAdded","api","dispatch","getState","next","action","type","response","request","baseURL","console","log","payload","onSuccess","data","error","onError"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,UAA3B;;AACA,MAAMC,GAAG,GACP;AAAA,MAAC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD;AAAA,SACCC,IAAD,IACA,MAAOC,MAAP,IAAkB;AAChB,QAAIA,MAAM,CAACC,IAAP,KAAgB,cAApB,EAAoC,OAAOF,IAAI,CAACC,MAAD,CAAX;AACpCD,IAAAA,IAAI,CAACC,MAAD,CAAJ,CAFgB,CAEF;AACd;AACA;AACA;;AACA,QAAI;AACF,YAAME,QAAQ,GAAG,MAAMR,KAAK,CAACS,OAAN,CAAc;AACnCC,QAAAA,OAAO,EAAE,4CAD0B,CAEnC;;AAFmC,OAAd,CAAvB,CADE,CAKF;AACA;AACA;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,UAAIN,MAAM,CAACO,OAAP,CAAeC,SAAnB,EACE;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,QAAQ,CAACO,IAA9B;AACAV,MAAAA,IAAI,CAACC,MAAD,CAAJ;AACH,KAbD,CAaE,OAAOU,KAAP,EAAc;AACd;AACA;AACA;AACA,UAAIV,MAAM,CAACO,OAAP,CAAeI,OAAnB,EACEd,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAED,MAAM,CAACO,OAAP,CAAeI,OAAvB;AAAgCJ,QAAAA,OAAO,EAAEG;AAAzC,OAAD,CAAR;AACH;AACF,GA5BD;AAAA,CADF;;AA8BA,eAAed,GAAf","sourcesContent":["import axios from \"axios\";\nimport { usersAdded } from \"../users\";\nconst api =\n  ({ dispatch, getState }) =>\n  (next) =>\n  async (action) => {\n    if (action.type !== \"apiCallBegan\") return next(action);\n    next(action); // if not placed here, this action will be swallowed and redux will move onto the actions defined below this\n    // const { url, onSuccess, onError } = action;\n    // if (onStart) dispatch({ type: onStart });\n    // next(action);\n    try {\n      const response = await axios.request({\n        baseURL: \"https://jsonplaceholder.typicode.com/users\",\n        // data, // optional\n      });\n      //general\n      // dispatch(action.payload.apiCallSuccess(response.data));\n      // sepcific\n      console.log(\"onSuccess\");\n      if (action.payload.onSuccess)\n        //   dispatch({ type: action.payload.onSuccess, payload: response.data });\n        console.log(\"users\", response.data)\n        next(action)\n    } catch (error) {\n      // general error message\n      //   dispatch(action.payload.apiCallFailed(error));\n      // specific error message\n      if (action.payload.onError)\n        dispatch({ type: action.payload.onError, payload: error });\n    }\n  };\nexport default api;\n"]},"metadata":{},"sourceType":"module"}